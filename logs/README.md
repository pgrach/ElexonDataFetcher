# Bitcoin Mining Analytics Platform - Logs Directory

This directory contains log files generated by the Bitcoin Mining Analytics platform.

## Log Categories

The logs are organized into the following categories:

1. **Application Logs** - General application logs (`app-YYYY-MM-DD.log`)
2. **Reconciliation Logs** - Logs from data reconciliation processes (`reconciliation-YYYY-MM-DD.log`)
3. **API Logs** - Logs of API requests and responses (`api-YYYY-MM-DD.log`)
4. **Error Logs** - Detailed error logs (`errors-YYYY-MM-DD.log`)
5. **Performance Logs** - Performance metrics and timings (`performance-YYYY-MM-DD.log`)

## Log Format

Each log entry typically contains:

- Timestamp
- Log level (INFO, WARNING, ERROR, DEBUG, CRITICAL)
- Module or component name
- Message
- Context data (when applicable)

Example:
```
[2025-03-06 10:15:23.456] [INFO] [reconciliation] Processing date 2025-03-05
```

## Retention Policy

Logs are automatically rotated and retained according to the following policy:

- Daily logs are kept for 30 days
- After 30 days, logs are compressed and archived
- Archived logs are retained for 90 days before deletion

## Viewing Logs

For large log files, it's recommended to use tools like `tail`, `grep`, or `less` for viewing:

```bash
# View the last 100 lines of a log file
tail -n 100 logs/app-2025-03-06.log

# Search for errors in a log file
grep ERROR logs/app-2025-03-06.log

# View reconciliation logs for a specific date
grep "2025-03-05" logs/reconciliation-2025-03-06.log
```

## Log Levels

The platform uses the following log levels:

- **DEBUG** - Detailed information, typically of interest only when diagnosing problems
- **INFO** - Confirmation that things are working as expected
- **WARNING** - Indication that something unexpected happened, or may happen in the near future
- **ERROR** - Due to a more serious problem, the software has not been able to perform some function
- **CRITICAL** - A serious error, indicating that the program itself may be unable to continue running

## Important Log Messages to Monitor

The following log messages indicate potential issues that should be investigated:

- `ERROR processing date` - Indicates a failure in processing a specific date
- `Database connection failed` - Indicates a database connectivity issue
- `API rate limit exceeded` - Indicates that Elexon API rate limits were reached
- `Timeout during calculation` - Indicates a long-running operation that timed out
- `Reconciliation process interrupted` - Indicates an abnormal termination of reconciliation

## Monitoring and Alerting

Log files are monitored automatically, and alerts are generated for:

- Critical errors
- Reconciliation failures
- API rate limit warnings
- Database connection issues

## Log Analysis

For advanced log analysis, consider using:

- Log aggregation tools (e.g., ELK stack)
- Custom scripts in the `scripts/utilities/` directory for log parsing
- Regular expressions for extracting specific patterns